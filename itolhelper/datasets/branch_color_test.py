from io import StringIO
from Bio import Phylo
from Bio.Phylo import NewickIO
from Bio.Phylo.BaseTree import Clade, Tree
tree = NewickIO.parse(handle=StringIO("(((Smoellendorffii_29617:0.065081,(((((Pp3c3_26370V3.1:0.094910,Pp3c13_21190V3.1:0.065722)88:0.220090,(Pp3c3_950V3.1:0.078612,((MA_944867g0010:0.048811,MA_130243g0010:0.253060)71:0.305468,Pp3c13_2000V3.1:0.032845)18:0.042240)28:0.113032)2:0.041618,((Pp3c26_1490V3.1:0.106134,Pp3c17_7930V3.1:0.231164)46:0.079853,Mp1g18540.1:0.177845)7:0.030181)0:0.018529,(((Nycol.J00124.1:0.036710,Nycol.J00125.1:0.000001)100:0.413985,Nycol.H01196.1:0.355781)27:0.122160,jgi|Mesen1|4303|ME000022S03592:0.038310)10:0.059785)0:0.034240,((Apun_evm.model.utg000139l.7.1:0.243440,(((Sacu_v1.1_s0047.g013517:0.101527,((Sacu_v1.1_s0156.g023637:0.225335,Azfi_s0092.g043142:0.128743)43:0.108087,(Azfi_s0054.g033832:0.050159,Sacu_v1.1_s0024.g008984:0.401206)7:0.064347)6:0.096263)3:0.066776,((((Nycol.A02746.1:0.064358,((((AT5G39660.1:0.072078,((AT5G62430.1:0.176279,AT3G47500.1:0.064255)45:0.041394,((Apun_evm.model.utg000133l.58.1:0.252260,(MA_133293g0010:0.064418,MA_172793g0010:0.033351)74:0.118385)12:0.100634,(Nycol.B02287.1:0.340590,(AT1G26790.1:0.080385,AT1G69570.1:0.101876)66:0.031030)17:0.106938)0:0.041654)0:0.099246)0:0.057937,LOC_Os07g48570.1:0.175957)0:0.045763,LOC_Os01g17000.1:0.145166)0:0.121039,LOC_Os01g15900.1:0.069974)0:0.119477)0:0.098716,Nycol.I00488.1:0.091342)0:0.072027,((evm_27.model.AmTr_v1.0_scaffold00119.78:0.054239,Azfi_s0166.g054411:0.356987)21:0.060593,evm_27.model.AmTr_v1.0_scaffold00010.496:0.105950)16:0.081238)0:0.095615,(((MA_5642475g0010:0.000001,MA_10436933g0030:0.000001)99:0.048957,(MA_10436933g0020:0.000001,MA_10435735g0010:0.000001)95:0.000001)98:0.100239,MA_175298g0010:0.072325)79:0.074547)0:0.125205)0:0.040830,(((MA_97259g0020:0.157788,Sacu_v1.1_s0058.g014849:0.285335)13:0.020128,evm_27.model.AmTr_v1.0_scaffold00021.27:0.316548)9:0.088999,(Sacu_v1.1_s0104.g020125:0.124599,jgi|Chabra1|343600|rna-CBR_g40868:0.194541)54:0.031251)4:0.099907)0:0.073608)0:0.134462,(((((AT1G29160.1:0.098197,AT2G34140.1:0.041057)93:0.294023,Sacu_v1.1_s0148.g023228:0.316686)4:0.040582,((LOC_Os01g55340.1:0.000001,LOC_Os01g48290.1:0.358317)69:0.117351,(LOC_Os03g07360.1:0.143339,LOC_Os10g26620.1:0.025978)20:0.019961)18:0.011617)1:0.040752,(((((((Azfi_s0166.g054389:0.123312,(Sacu_v1.1_s0022.g008681:0.280207,Azfi_s0004.g008799:0.082551)16:0.057219)11:0.022962,(Azfi_s0014.g013604:0.103644,Azfi_s0176.g056104:0.053162)33:0.068258)4:0.030380,(((evm_27.model.AmTr_v1.0_scaffold00033.186:0.269486,LOC_Os03g38870.1:0.032103)14:0.059371,(MA_83624g0010:0.225635,MA_46520g0010:0.164357)18:0.075717)0:0.000001,((((LOC_Os10g35300.2:0.140003,(Sacu_v1.1_s0022.g008715:0.147444,Azfi_s0001.g000476:0.062341)72:0.066212)13:0.014683,(LOC_Os02g15350.1:0.138576,(((evm_27.model.AmTr_v1.0_scaffold00030.95:0.343645,AT3G52440.2:0.225179)18:0.080737,AT1G21340.1:0.286897)5:0.160321,(LOC_Os05g36900.1:0.039826,LOC_Os01g64590.1:0.029414)73:0.015197)6:0.039296)1:0.010397)1:0.009558,((LOC_Os02g45200.1:0.010430,LOC_Os04g47990.1:0.010418)94:0.057708,LOC_Os02g47810.1:0.040711)11:0.000001)0:0.031236,((((AT4G38000.1:0.360410,Sacu_v1.1_s0043.g012870:0.132723)9:0.017049,Sacu_v1.1_s0040.g012351:0.123690)8:0.046427,(AT2G37590.1:0.238027,((((LOC_Os07g32510.1:0.121948,LOC_Os12g38200.1:0.037738)36:0.065364,LOC_Os03g60630.1:0.016406)25:0.032256,((LOC_Os04g58190.1:0.246388,LOC_Os05g02150.1:0.000001)23:0.063649,LOC_Os07g13260.1:0.035281)11:0.021474)1:0.015972,LOC_Os03g16850.1:0.010160)5:0.042967)1:0.026883)0:0.015151,(((((LOC_Os06g17410.1:0.022406,LOC_Os03g55610.1:0.073824)44:0.048781,(LOC_Os02g49440.1:0.048966,Nycol.C00702.1:0.089305)23:0.006538)5:0.008861,evm_27.model.AmTr_v1.0_scaffold00006.141:0.164868)2:0.008599,((((Nycol.D00721.1:0.000001,Nycol.A02156.1:0.223672)94:0.296379,(LOC_Os01g09720.1:0.121410,(((LOC_Os08g38220.1:0.130447,LOC_Os09g29960.1:0.013074)49:0.000001,(LOC_Os12g39990.1:0.014989,LOC_Os03g42200.1:0.024286)91:0.130118)36:0.058628,Nycol.C01521.1:0.202255)17:0.055652)3:0.033128)1:0.026556,(Nycol.A02064.1:0.037240,((evm_27.model.AmTr_v1.0_scaffold00059.249:0.142136,evm_27.model.AmTr_v1.0_scaffold00036.175:0.085065)75:0.186807,Nycol.F00593.1:0.105899)32:0.117265)16:0.123554)1:0.048946,(Nycol.D00743.1:0.092253,(evm_27.model.AmTr_v1.0_scaffold00169.34:0.234450,Nycol.C01531.1:0.034927)18:0.021247)17:0.033593)0:0.012708)0:0.014046,((((((((((AT2G28810.1:0.023880,AT1G07640.3:0.175826)53:0.057320,AT3G55370.3:0.216386)22:0.095481,AT5G02460.1:0.085569)26:0.101403,AT5G65590.1:0.089592)7:0.033576,((AT5G60200.1:0.091449,((AT4G21050.1:0.021906,(AT4G21030.1:0.399317,(AT4G21080.1:0.039532,AT4G21040.1:0.073638)88:0.099796)33:0.011247)83:0.425590,AT3G45610.1:0.170184)15:0.029448)10:0.050008,AT2G28510.1:0.121282)8:0.110293)0:0.022593,(AT5G60850.1:0.175575,(((AT3G50410.1:0.015497,(AT1G47655.1:0.206272,AT5G66940.1:0.110007)39:0.053552)77:0.172503,AT3G21270.1:0.053951)18:0.025504,AT1G51700.1:0.095741)24:0.054134)17:0.066266)0:0.067145,AT5G62940.1:0.153499)0:0.183231,(MA_123810g0010:0.179296,evm_27.model.AmTr_v1.0_scaffold00160.11:0.407131)7:0.000001)0:0.058495,(Nycol.E00087.1:0.104558,Nycol.F00031.1:0.116190)59:0.066028)0:0.032366,((evm_27.model.AmTr_v1.0_scaffold00012.109:0.197927,(Nycol.C02249.1:0.148485,Nycol.I01001.1:0.063640)63:0.079918)6:0.013046,(((((AT4G24060.1:0.080143,(AT2G46590.2:0.034941,AT3G61850.4:0.072050)54:0.085087)39:0.096806,AT4G00940.2:0.282916)27:0.065776,AT1G64620.1:0.185806)33:0.120504,(Nycol.I01566.1:0.039440,Nycol.B02458.1:0.150515)63:0.016562)9:0.042430,(Nycol.A00889.1:0.107845,((Nycol.I01306.1:0.099486,Nycol.E00582.1:0.096234)12:0.017402,(((Nycol.K00383.1:0.103239,Nycol.A01839.1:0.099805)76:0.087020,((MA_18267g0010:0.138787,(AT1G28310.2:0.152407,evm_27.model.AmTr_v1.0_scaffold00160.10:0.184645)36:0.077025)8:0.066967,(Nycol.A01838.1:0.011868,Nycol.K00384.1:0.112272)84:0.078907)12:0.073570)1:0.024342,(((evm_27.model.AmTr_v1.0_scaffold00080.30:0.106170,evm_27.model.AmTr_v1.0_scaffold00058.221:0.121336)19:0.043157,(evm_27.model.AmTr_v1.0_scaffold00069.29:0.304771,evm_27.model.AmTr_v1.0_scaffold00030.96:0.198794)23:0.064796)7:0.084423,((MA_459791g0010:0.036893,(MA_16692g0010:0.082941,((MA_939289g0010:0.148882,(MA_74014g0010:0.072207,MA_248613g0010:0.179577)37:0.065967)20:0.082772,MA_7537g0010:0.196902)5:0.015579)3:0.063630)1:0.021070,(MA_56828g0010:0.219484,(MA_52474g0010:0.000001,MA_17614g0010:0.000001)100:0.115194)41:0.110441)1:0.027408)0:0.032035)0:0.014201)0:0.052130)0:0.038133)0:0.101598)0:0.068849)0:0.054020)0:0.000001)0:0.030175)0:0.016861)1:0.029715)1:0.000001,(Smoellendorffii_19630:0.132457,Smoellendorffii_29563:0.143700)5:0.017061)14:0.051513,((Mp2g20790.1:0.109742,(Pp3c19_19050V3.1:0.101884,Pp3c22_5870V3.1:0.108454)95:0.264074)57:0.078798,Apun_evm.model.utg000132l.272.1:0.091728)56:0.178596)15:0.022425,((Pp3c14_24190V3.1:0.049722,Pp3c17_23300V3.1:0.113774)58:0.067827,((((Pp3c5_14440V3.1:0.060264,Pp3c6_13360V3.1:0.129782)41:0.065204,Pp3c16_6460V3.1:0.160314)74:0.119207,((Pp3c17_3860V3.1:0.321288,Pp3c9_4910V3.1:0.028823)32:0.043447,Pp3c15_3180V3.1:0.089940)49:0.105730)43:0.086057,(Pp3c4_850V3.1:0.055204,Pp3c12_22390V3.1:0.092004)97:0.192141)28:0.054536)50:0.164348)22:0.027230,(((Sacu_v1.1_s0018.g007584:0.010573,Sacu_v1.1_s0279.g027089:0.228962)93:0.161549,((Azfi_s3725.g116702:0.012448,Azfi_s0197.g057380:0.000001)99:0.180736,Sacu_v1.1_s0039.g012148:0.165727)31:0.004114)63:0.137775,Azfi_s1074.g096912:0.024594)52:0.045911)55:0.078534)0:0.060077,((jgi|Klenit1|13754|rna-KFL_007620030:0.151707,Smoellendorffii_131666:0.194703)5:0.051168,Smoellendorffii_89924:0.072816)1:0.017070)0:0.009882)0:0.029356)1:0.038602)19:0.122422,Olucimarinus_9704:0.444944):0.096140,Cre12.g521150.t1.2:0.096140);"))


def test_tree_traverse():
    print()
    for subtree in tree:
        #Phylo.draw_ascii(subtree)
        idx = 0
        for clade in subtree.find_clades():
            clade: Clade
            if clade.name is None:
                clade.name = str(idx)
                idx += 1
        print(subtree)
            